<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>Melbourne Haskell Workshop 2013</title>
		<link href="resources/css/styles.css" rel="stylesheet" type="text/css">
		<link href="resources/css/solarized-light.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<div id="content">

<h1 id="melbourne-haskell-workshop-2013">Melbourne Haskell Workshop 2013</h1>
<ul>
<li>6 Hours (Plus Lunch)</li>
<li>Maximum attendance - 30 people (Including Volunteers)</li>
</ul>
<!-- Trickery to conditionally display the alternate format link -->

<h3 id="html-link" class="center"><a href="http://sordina.github.io/haskell_workshop/">(HTML)</a></h3>
<script type="text/javascript">
    document.getElementById('html-link').remove()
    document.write("<h3 class='center'><a href='workshop.pdf'>(PDF)</a></h3>")
</script>

<hr>

<p>A 6-hour workshop intended to introduce and provide resources for working with Haskell.</p>
<!-- http://upload.wikimedia.org/wikipedia/commons/0/0c/Potter's_workshop_VA.jpg -->
<div class="center"> 
<img src="resources/images/workshop.png" alt="Workshop" />
</div>

<p>This workshop is based around a central concept of domain modeling with Haskell. It uses a narrative of a physicist attempting to understand how the world works.</p>
<h1 id="todo-double-check-these-items" class="todo">TODO: double check these items</h1>
<h3 id="note">Note:</h3>
<p>If you are attending the workshop, please attempt to have the required items from the <a href="#resources">'Resources'</a> section available for your use.</p>
<h1 id="todo-decide-on-some-followup-plans" class="todo">TODO: Decide on some followup plans</h1>
<h1 id="todo-dont-use-underscores-in-pattern-matching-early-on" class="todo">TODO: Don't use underscores in pattern matching early on</h1>
<hr />
<p></p>
<h1 id="table-of-contents">Table of Contents</h1>
<table>
<tbody>
<tr class="odd">
<td align="left"><a href="#melbourne-haskell-workshop-2013">Readme</a></td>
<td align="left">Read this First</td>
</tr>
<tr class="even">
<td align="left"><a href="#resources">Resources</a></td>
<td align="left">Resources Available</td>
</tr>
<tr class="odd">
<td align="left"><a href="#introduction">Introduction</a></td>
<td align="left">Motivation, Overview, and Approach</td>
</tr>
<tr class="even">
<td align="left"><a href="#adts">ADTs</a></td>
<td align="left">Modelling with data in Haskell</td>
</tr>
<tr class="odd">
<td align="left"><a href="#typeclasses">Typeclasses</a></td>
<td align="left">Code-Reuse and Laws</td>
</tr>
<tr class="even">
<td align="left"><a href="#wildcard">Wildcard</a></td>
<td align="left">Music</td>
</tr>
<tr class="odd">
<td align="left"><a href="#monads">Monads</a></td>
<td align="left">DSLs, IO, Do-Notation</td>
</tr>
<tr class="even">
<td align="left"><a href="#ecosystem">Ecosystem</a></td>
<td align="left">Resources and Community</td>
</tr>
</tbody>
</table>
<hr />
<p></p>
<h1 id="required-resources">Required Resources</h1>
<p>Before you begin you will require the following...</p>
<h2 id="a-text-editor">A Text-Editor</h2>
<p>We are assuming previous programming experience, however, if you would like a recommendation, have a look at <a href="http://notepad-plus-plus.org/">Notepad++</a>, <a href="http://www.sublimetext.com/">Sublime Text</a>, or the ever-popular <a href="http://www.gnu.org/software/emacs/">Emacs</a> and <a href="http://www.vim.org/">Vim</a>. Just make sure that you are fluent enough to embark on exercises as they appear in the workshop.</p>
<h2 id="the-haskell-platform"><a href="http://www.haskell.org/platform/">The Haskell Platform</a></h2>
<p>In order to run the programs written during this workshop you will need a Haskell installation. The easiest way to get up and running is to install the latest Haskell Platform. This is a &quot;batteries included&quot; installation of GHC and Cabal that includes many of the most useful packages available in the Hackage ecosystem.</p>
<h2 id="a-copy-of-the-workshop-scaffold-project"><a href="https://github.com/sordina/haskell_workshop">A Copy of the Workshop Scaffold Project</a></h2>
<p><a href="https://github.com/sordina/haskell_workshop">https://github.com/sordina/haskell_workshop</a></p>
<p>Either clone with git:</p>
<pre class="shell"><code>git clone https://github.com/sordina/haskell_workshop.git</code></pre>
<p>... or <a href="https://github.com/sordina/haskell_workshop/archive/master.zip">download the zip</a> from GitHub.</p>
<h1 id="useful-resources">Useful Resources</h1>
<p>These resources are available to help you with any issues you face when learning Haskell:</p>
<h2 id="haskell-on-freenode">#haskell on <a href="http://freenode.net/">Freenode</a></h2>
<p>An IRC channel dedicated to discussion of Haskell. This is often the easiest place to fire off a one-off question that is simple enough not to warrant a permanent listing on the internet.</p>
<h2 id="hackage"><a href="http://hackage.haskell.org/packages/hackage.html">Hackage</a></h2>
<p>Hackage is the primary repository for Haskell packages. It is public, searchable, versioned, and uses Cabal package metadata for classification. Furthermore, this can be used to easily browse package contents, documentation and source-code.</p>
<p>For example, browse the <a href="http://hackage.haskell.org/package/shake">Shake</a> package and look at some of the <a href="http://hackage.haskell.org/packages/archive/shake/0.10.6/doc/html/Development-Shake-Command.html">Modules</a>.</p>
<h2 id="hoogle"><a href="http://www.haskell.org/hoogle/">Hoogle</a></h2>
<p>Hoogle is a Haskell module and function search-engine. Hoogle allows you to take advantage of the granular type-system used by Haskell to search not just for function-names, but for function type-signatures.</p>
<p>For example, have a look for the function with signature <a href="http://www.haskell.org/hoogle/?hoogle=Text+-%3E+ByteString">Text -&gt; ByteString</a>.</p>
<h2 id="mfug"><a href="http://www.meetup.com/Melbourne-Functional-User-Group-MFUG/">MFUG</a></h2>
<p>MFUG is the Melbourne Functional Programmer's User Group. This group discusses many topics, including Haskell.</p>
<h2 id="rhaskell"><a href="www.reddit.com/r/haskell">/r/haskell</a></h2>
<p>For Reddit users, /r/haskell is a very useful resource with a great deal of information regarding recent developments in the Haskell ecosystem and community. This is a good place to ask some more advanced questions or start a flame-war.</p>
<h2 id="haskell-news"><a href="http://haskellnews.org/">Haskell News</a></h2>
<p>Haskell News is a firehose-style haskell news aggregator taking information from sources as varied as academic-journals, and GitHub accounts.</p>
<h2 id="hlint"><a href="http://hackage.haskell.org/package/hlint">HLint</a></h2>
<p>HLint is a <a href="http://en.wikipedia.org/wiki/Lint_(software)">linting tool</a> for Haskell source - It can often provide some useful hints about refactoring avenues for your code.</p>
<hr />
<p></p>
<h1 id="introduction">Introduction</h1>
<p>Welcome to the Melbourne Haskell Workshop 2013.</p>
<p>This intent of this workshop is to provide a working introduction to Haskell for programmers in Melbourne who have not yet used the language in anger.</p>
<hr />
<p></p>
<h1 id="setup">Setup</h1>
<h3 id="and-sanity-checking">... and Sanity Checking</h3>
<p>Ensure that you have the following programs installed and functioning correctly:</p>
<ul>
<li>GHC(i)</li>
</ul>
<p>At a command prompt, enter the following command:</p>
<pre class="shell"><code>ghci</code></pre>
<p>This should launch the GHC Haskell REPL.</p>
<p>Type the following to ensure that you have a functioning REPL:</p>
<pre data-language="haskell"><code>1 + 1</code></pre>
<p>This should yield the result:</p>
<pre class="text"><code>2</code></pre>
<p>Create the following source file (program.hs):</p>
<pre data-language="haskell"><code>main = print &quot;hello world&quot;</code></pre>
<p>Compile the program as follows:</p>
<pre class="shell"><code>ghc --make program.hs</code></pre>
<p>Run the program with the following command:</p>
<pre class="shell"><code>./program</code></pre>
<p>The output should look as follows:</p>
<pre class="text"><code>&quot;hello world&quot;</code></pre>
<h2 id="cabal">Cabal</h2>
<p>You should have access to a Cabal installation if you have installed the Haskell Platform.</p>
<p>Check that you have cabal by running:</p>
<pre class="shell"><code>cabal --version</code></pre>
<p>This should output something similar to:</p>
<pre class="text"><code>cabal-install version 1.16.0.2
using version 1.16.0 of the Cabal library</code></pre>
<hr />
<p></p>
<h1 id="introductory-exercise">Introductory Exercise</h1>
<h2 id="variables">Variables</h2>
<p>In Haskell you can define a variable with the <code>=</code> sign.</p>
<p>These can be used in a top-level definition (no-indentation):</p>
<pre data-language="haskell"><code>my_variable = 1</code></pre>
<h2 id="type-signatures">Type Signatures</h2>
<p>You can annotate a definition with a type-signature:</p>
<pre data-language="haskell"><code>my_variable :: Int
my_variable = 1</code></pre>
<h2 id="string-literals">String Literals</h2>
<p>String literals look familiar:</p>
<pre data-language="haskell"><code>my_string :: String
my_string = &quot;hello world&quot;</code></pre>
<h2 id="tuples">Tuples</h2>
<p>Tuples look like this:</p>
<pre data-language="haskell"><code>my_tuple_pair :: (Int, String)
my_tuple_pair = (1,&quot;hello&quot;)

my_tuple_trio :: (Int, String, Int)
my_tuple_trio = (1,&quot;hello&quot;,3)</code></pre>
<p>They can be used to group multiple, differently-typed (heterogeneous) values.</p>
<h2 id="function">Function</h2>
<p>Functions are a core part of Haskell. Function definitions look like this:</p>
<pre data-language="haskell"><code>my_function :: ... -&gt; ...
my_function x y ... = ...</code></pre>
<p>If a function <code>f</code> takes something of type <code>a</code> and returns something of type <code>b</code> we write the type signature as:</p>
<pre data-language="haskell"><code>f :: a -&gt; b</code></pre>
<p>For example:</p>
<pre data-language="haskell"><code>my_add :: Int -&gt; Int -&gt; Int
my_add x y = x + y</code></pre>
<p><code>my_add</code> takes two numbers and returns the result of the addition of those two numbers.</p>
<h2 id="lists">Lists</h2>
<p>List are a commonly used data-structure in Haskell. Everything in a list has the same type (they are homogeneous).</p>
<p>Lists are built using the infix data-constructor <code>(:)</code> (pronounced &quot;cons&quot;). They also have a compact notation using <code>[...]</code>.</p>
<p>List literals look like:</p>
<pre data-language="haskell"><code>list1 :: [Int]
list2 :: [Int]
list3 :: [String]

list1 = [1,2,3]
list2 = 1 : 2 : []
list3 = &quot;hello&quot; : &quot;world&quot; : []</code></pre>
<p>You can deconstruct a list by pattern matching the head and tail like so:</p>
<pre data-language="haskell"><code>f (x:xs) = ...</code></pre>
<h3 id="define-length">Define Length</h3>
<p>Define a function that takes a list and returns the length. In Haskell type-signature syntax, this is written as:</p>
<pre data-language="haskell"><code>mylength :: [a] -&gt; Int</code></pre>
<p>Your solution should have the form of:</p>
<pre data-language="haskell"><code>mylength []     = ...
mylength (x:xs) = ...</code></pre>
<p>Things to consider:</p>
<ul>
<li>What is the length of an empty list? (the base case)</li>
<li>What is the length of xs?</li>
</ul>
<pre class="answer" data-language="haskell"><code>mylength []     = 0
mylength (x:xs) = 1 + mylength xs</code></pre>
<h3 id="define-map">Define Map</h3>
<pre class="answer" data-language="haskell"><code>mymap f [] = []
mymap f (x:xs) = f x : mymap f xs</code></pre>
<p>For your reading pleasure, here are some definintions of common functions:</p>
<pre data-language="haskell"><code>myfilter f []     = []
myfilter f (x:xs) = if f x then x : myfilter f xs
                           else     myfilter f xs</code></pre>
<pre data-language="haskell"><code>myfold f z []     = z
myfold f z (x:xs) = f x (myfold f z xs)</code></pre>
<h1 id="todo-hide-.answers" class="todo">TODO: Hide .answers</h1>
<hr />
<p></p>
<h1 id="exercise---org-chart">Exercise - Org Chart</h1>
<p>You are an employee of International Banking Machines.</p>
<p>The CEO has asked you to model the org-chart with a computer program in order to perform some analysis on the effectiveness of middle-managers.</p>
<p>Before you are able to perform your calculations, you will have to decide how you will model your data. Construct a Haskell data-type to represent the various types of employees and departments shown in the following diagram:</p>
<div class="center">
<img src="resources/images/dot/01.png" alt="Org Chart" />
</div>


<p>Construct a function that builds up your datastructure from the following plain-text input format:</p>
<h2 id="employees">Employees</h2>
<table>
<col width="11%" />
<col width="12%" />
<col width="13%" />
<col width="13%" />
<thead>
<tr class="header">
<th align="center">Name</th>
<th align="center">Title</th>
<th align="center">Salary</th>
<th align="center">Manager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Dave</td>
<td align="center">Serf</td>
<td align="center">$33K</td>
<td align="center">Dorris</td>
</tr>
<tr class="even">
<td align="center">Tony</td>
<td align="center">Baker</td>
<td align="center">$44K</td>
<td align="center">Devin</td>
</tr>
</tbody>
</table>
<p>Your function should have the following signature:</p>
<pre data-language="haskell"><code>process :: String -&gt; OrgChart</code></pre>
<hr />
<p></p>
<h1 id="exercise---music">Exercise - Music</h1>
<p>Once you have a model that reaches a sufficient level of complexity you will find that your data-types become recursive.</p>
<!-- http://i824.photobucket.com/albums/zz163/Boysie8/Telecaster%20build/f-hole.jpg -->
<div class="center">
<img src="resources/images/f-hole.jpg" />
</div>

<p>Here is a small musical target-language:</p>
<pre data-language="haskell"><code>data Music
  = A_ -- Underscore Represents a Flat
  | A
  | A&#39; -- Prime represents a Sharp
       -- ... B, C, D, E, F, G ...
  | Sequence [Music]
  | Sharp Music
  | Longer Integer Music
  | Higher Integer Music</code></pre>
<p>Certainly not comprehensive enough to write Beethoven's 5th Symphony, but good enough for Baa Baa Black-Sheep.</p>
<pre data-language="haskell"><code>intro   = Sequence [ C, C, G, G ]
run     = Sequence [ A, B, C, A ]
middle  = Sequence [ F, F, E, E ]
run2    = Sequence [ D, C, D, E ]
baa_baa = Sequence [ Longer 2  intro
                   , Higher 12 run
                   , Longer 4  G
                   , Longer 2  middle
                   , run2
                   , Longer 4  C ]</code></pre>
<p>In order to listen to this music, create a file with the following code:</p>
<pre data-language="haskell"><code>import Midi
import qualified Data.ByteString as BS

main = BS.writeFile &quot;baa_baa.mid&quot; (make_music 4 4 (Longer 4 baa_baa))</code></pre>
<p>Your task is to write a melody using this language. Try to write and compose functions, rather than declaring one big data-structure.</p>
<hr />
<p></p>
<h1 id="exercise---symbolic-differentiation">Exercise - Symbolic Differentiation</h1>
<p>Your Highschool math teacher has decided to introduce differentiation of single-variable polynomials...</p>
<p>This is in super easy once you grasped the concept:</p>
<p>Polynomial term differentiation:</p>
<div class="center"> 
<br /><img style="vertical-align:middle" src="http://chart.apis.google.com/chart?cht=tx&amp;chl=%20a%20.%20x%5En%20.%20%5Cfrac%7Bd%7D%7Bdx%7D%20%3D%20n.a.x%5E%7Bn-1%7D%20" alt=" a . x^n . \frac{d}{dx} = n.a.x^{n-1} " title=" a . x^n . \frac{d}{dx} = n.a.x^{n-1} " /><br />
</div>

<p>Linearity of differentiation:</p>
<div class="center"> 
<br /><img style="vertical-align:middle" src="http://chart.apis.google.com/chart?cht=tx&amp;chl=%20%28a%20%2B%20b%29%20%5Cfrac%7Bd%7D%7Bdx%7D%20%3D%20a%20%5Cfrac%7Bd%7D%7Bdx%7D%20%2B%20b%20%5Cfrac%7Bd%7D%7Bdx%7D%20" alt=" (a + b) \frac{d}{dx} = a \frac{d}{dx} + b \frac{d}{dx} " title=" (a + b) \frac{d}{dx} = a \frac{d}{dx} + b \frac{d}{dx} " /><br />
</div>

<p>But you don't wish to perform the undoubtedly large number of rote-examples required after your moment of epiphany.</p>
<p>In this exercise you should develop a data-type to represent a single-variable polynomial expression.</p>
<p>After you feel confident that you can represent any such expression, write a function using the two rules listed to provide the following function:</p>
<pre data-language="haskell"><code>differentiate :: Polynomial -&gt; Polynomial
differentiate = ...</code></pre>
<hr />
<p></p>
<h1 id="appendix">Appendix</h1>
<p><a href="http://stackoverflow.com/questions/17870864/where-is-huttons-razor-first-defined">Hutton's Razor</a></p>
			<hr>
			<p class="center footer"> Produced with <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a> </p>
		</div>
		<script type="text/javascript" src="resources/javascript/rainbow-custom.min.js"></script>
		<!-- <script src="dependencies/mathjax-MathJax-727332c/MathJax.js" type="text/javascript" charset="utf-8"> </script> -->
	</body>
</html>
